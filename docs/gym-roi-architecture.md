# å¥èº«æˆ¿å›æœ¬è®¡åˆ’ - æŠ€æœ¯æ¶æ„è®¾è®¡ v3.0

> **æ¶æ„ç†å¿µ**ï¼šæœ¬åœ° Flask API å¼€å‘ + GitHub Pages é™æ€å±•ç¤º
> **æ ¸å¿ƒä¼˜åŠ¿**ï¼šå‰åç«¯åˆ†ç¦»å¼€å‘ä½“éªŒ + é›¶éƒ¨ç½²æˆæœ¬ + æ•°æ®å®‰å…¨

---

## ğŸ“Š æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æœ¬åœ°å¼€å‘ç¯å¢ƒ                              â”‚
â”‚                    (ä½ çš„ MacBook)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Flask API       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  React Admin å‰ç«¯         â”‚   â”‚
â”‚  â”‚  (Python 3.8)    â”‚  HTTP    â”‚  (http://localhost:5173)  â”‚   â”‚
â”‚  â”‚                  â”‚  REST    â”‚                           â”‚   â”‚
â”‚  â”‚  - æ•°æ®å½•å…¥ API  â”‚          â”‚  - æ”¯å‡ºå½•å…¥è¡¨å•           â”‚   â”‚
â”‚  â”‚  - ROI è®¡ç®—å¼•æ“  â”‚          â”‚  - æ´»åŠ¨è®°å½•è¡¨å•           â”‚   â”‚
â”‚  â”‚  - ç»Ÿè®¡åˆ†æ      â”‚          â”‚  - è®­ç»ƒæ—¥è®°ç¼–è¾‘å™¨         â”‚   â”‚
â”‚  â”‚  - JSON å¯¼å‡º     â”‚          â”‚  - é…ç½®ç®¡ç†ç•Œé¢           â”‚   â”‚
â”‚  â”‚                  â”‚          â”‚  - ç»Ÿè®¡çœ‹æ¿               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  - "å¯¼å‡ºåˆ° GitHub" æŒ‰é’®   â”‚   â”‚
â”‚           â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                                                     â”‚
â”‚           â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚  SQLite æ•°æ®åº“   â”‚                                          â”‚
â”‚  â”‚  gym_roi.db      â”‚                                          â”‚
â”‚  â”‚                  â”‚                                          â”‚
â”‚  â”‚  - expenses è¡¨   â”‚    âš ï¸ ä¸æ¨é€åˆ° GitHub                    â”‚
â”‚  â”‚  - activities è¡¨ â”‚    (åŒ…å«çœŸå®ä¸ªäººæ•°æ®)                    â”‚
â”‚  â”‚  - notes è¡¨      â”‚                                          â”‚
â”‚  â”‚  - configs è¡¨    â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                 â”‚
â”‚           â”ƒ ç‚¹å‡»"å¯¼å‡ºåˆ° GitHub"                                 â”‚
â”‚           â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚  ç”Ÿæˆ JSON æ–‡ä»¶ (è„±æ•åçš„å±•ç¤ºæ•°æ®)   â”‚                     â”‚
â”‚  â”‚  src/apps/gym-roi/data/              â”‚                     â”‚
â”‚  â”‚                                       â”‚                     â”‚
â”‚  â”‚  - roi-summary.json                  â”‚                     â”‚
â”‚  â”‚  - activities-timeline.json          â”‚                     â”‚
â”‚  â”‚  - stats.json                        â”‚                     â”‚
â”‚  â”‚  - training-notes.json               â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ æ‰‹åŠ¨æ‰§è¡Œ
                           â”‚ git add, commit, push
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Repository                            â”‚
â”‚                    (chenmq77/duckiki)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  src/apps/gym-roi/data/                                         â”‚
â”‚  â”œâ”€â”€ roi-summary.json         âœ… æ¨é€åˆ° GitHub                  â”‚
â”‚  â”œâ”€â”€ activities-timeline.json                                  â”‚
â”‚  â””â”€â”€ stats.json                                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ GitHub Actions
                           â”‚ è‡ªåŠ¨éƒ¨ç½²
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Pages                                 â”‚
â”‚          https://chenmq77.github.io/duckiki/gym-roi             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚  React Public å‰ç«¯ (çº¯é™æ€)          â”‚                     â”‚
â”‚  â”‚                                       â”‚                     â”‚
â”‚  â”‚  - è¯»å– JSON æ–‡ä»¶ (fetch)            â”‚                     â”‚
â”‚  â”‚  - ROI è¿›åº¦å¡ç‰‡                      â”‚                     â”‚
â”‚  â”‚  - å›¾è¡¨å¯è§†åŒ– (Chart.js)             â”‚                     â”‚
â”‚  â”‚  - è®­ç»ƒæ—¥è®°æ—¶é—´è½´                    â”‚                     â”‚
â”‚  â”‚  - å“åº”å¼è®¾è®¡ (æ‰‹æœºå‹å¥½)             â”‚                     â”‚
â”‚  â”‚                                       â”‚                     â”‚
â”‚  â”‚  âŒ æ—  API è°ƒç”¨                       â”‚                     â”‚
â”‚  â”‚  âœ… çº¯é™æ€å±•ç¤º                        â”‚                     â”‚
â”‚  â”‚  âœ… åŠ è½½é€Ÿåº¦å¿«                        â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                 â”‚
â”‚  è®¿é—®è€…ï¼šæœ‹å‹ã€ç²‰ä¸ã€æ‹›è˜è€…                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æŠ€æœ¯æ ˆé€‰å‹

### åç«¯ (æœ¬åœ°å¼€å‘)

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | ä¸ºä»€ä¹ˆé€‰æ‹© |
|------|------|------|------------|
| **Python** | 3.8.11 | åç«¯è¯­è¨€ | æ•°å­¦è®¡ç®—ä¼˜é›…ï¼ŒNumPy æ”¯æŒé«˜æ–¯å‡½æ•° |
| **Flask** | 3.0+ | Web æ¡†æ¶ | è½»é‡çº§ï¼Œå¿«é€Ÿå¼€å‘ RESTful API |
| **SQLAlchemy** | 2.0+ | ORM | ä¼˜é›…çš„æ•°æ®åº“æ“ä½œï¼Œæ”¯æŒ SQLite |
| **SQLite** | 3.x | æ•°æ®åº“ | é›¶é…ç½®ï¼Œæœ¬åœ°æ–‡ä»¶æ•°æ®åº“ï¼Œé€‚åˆä¸ªäººé¡¹ç›® |
| **Flask-CORS** | 4.0+ | è·¨åŸŸæ”¯æŒ | å…è®¸ React å‰ç«¯è°ƒç”¨æœ¬åœ° API |
| **NumPy** | 1.24+ | ç§‘å­¦è®¡ç®— | é«˜æ–¯å‡½æ•°è®¡ç®— |
| **python-dotenv** | 1.0+ | ç¯å¢ƒå˜é‡ | ç®¡ç†é…ç½®å’Œæ•æ„Ÿä¿¡æ¯ |

### å‰ç«¯ (Admin é¡µé¢ - æœ¬åœ°)

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **React** | 18.x | UI æ¡†æ¶ |
| **Vite** | 5.x | æ„å»ºå·¥å…· |
| **Axios** | 1.6+ | HTTP å®¢æˆ·ç«¯ï¼ˆè°ƒç”¨æœ¬åœ° APIï¼‰ |
| **React Hook Form** | 7.x | è¡¨å•ç®¡ç† |
| **Tailwind CSS** | 3.x | æ ·å¼æ¡†æ¶ |
| **React Markdown** | 9.x | Markdown æ¸²æŸ“ï¼ˆè®­ç»ƒæ—¥è®°ï¼‰ |
| **Chart.js / Recharts** | - | å›¾è¡¨åº“ï¼ˆå®æ—¶ç»Ÿè®¡ï¼‰ |

### å‰ç«¯ (Public é¡µé¢ - GitHub Pages)

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **React** | 18.x | UI æ¡†æ¶ |
| **Vite** | 5.x | æ„å»ºå·¥å…· |
| **çº¯ fetch API** | åŸç”Ÿ | è¯»å–é™æ€ JSONï¼ˆæ— éœ€ Axiosï¼‰ |
| **Tailwind CSS** | 3.x | æ ·å¼æ¡†æ¶ |
| **Chart.js** | 4.x | å›¾è¡¨å¯è§†åŒ– |
| **React Markdown** | 9.x | è®­ç»ƒæ—¥è®°å±•ç¤º |

---

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
duckiki/
â”œâ”€â”€ backend/                         # ğŸ†• Flask API åç«¯
â”‚   â”œâ”€â”€ app.py                       # Flask ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ models.py                    # æ•°æ®åº“æ¨¡å‹ï¼ˆSQLAlchemyï¼‰
â”‚   â”œâ”€â”€ calculator.py                # ROI è®¡ç®—å¼•æ“
â”‚   â”œâ”€â”€ config.py                    # Flask é…ç½®
â”‚   â”œâ”€â”€ requirements.txt             # Python ä¾èµ–åˆ—è¡¨
â”‚   â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â”œâ”€â”€ .env                         # ç¯å¢ƒå˜é‡ (ä¸æ¨é€)
â”‚   â”œâ”€â”€ venv/                        # è™šæ‹Ÿç¯å¢ƒ (ä¸æ¨é€)
â”‚   â”œâ”€â”€ gym_roi.db                   # SQLite æ•°æ®åº“ (ä¸æ¨é€)
â”‚   â”œâ”€â”€ routes/                      # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ expenses.py              # æ”¯å‡ºç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ activities.py            # æ´»åŠ¨ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ roi.py                   # ROI è®¡ç®— API
â”‚   â”‚   â”œâ”€â”€ stats.py                 # ç»Ÿè®¡åˆ†æ API
â”‚   â”‚   â””â”€â”€ export.py                # JSON å¯¼å‡º API
â”‚   â”œâ”€â”€ utils/                       # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ gaussian.py              # é«˜æ–¯å‡½æ•°è®¡ç®—
â”‚   â”‚   â”œâ”€â”€ weight_calculator.py     # æ´»åŠ¨æƒé‡è®¡ç®—
â”‚   â”‚   â””â”€â”€ data_sanitizer.py        # æ•°æ®è„±æ•å¤„ç†
â”‚   â””â”€â”€ README.md                    # åç«¯å¼€å‘è¯´æ˜
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ apps/
â”‚   â”‚   â””â”€â”€ gym-roi/
â”‚   â”‚       â”œâ”€â”€ admin/               # ğŸ†• Admin å‰ç«¯ï¼ˆæœ¬åœ°å¼€å‘ï¼‰
â”‚   â”‚       â”‚   â”œâ”€â”€ pages/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx       # ä¸»çœ‹æ¿
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ExpenseManager.jsx  # æ”¯å‡ºç®¡ç†
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ActivityManager.jsx # æ´»åŠ¨ç®¡ç†
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ NotesEditor.jsx     # è®­ç»ƒæ—¥è®°ç¼–è¾‘
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ConfigPanel.jsx     # é…ç½®ç®¡ç†
â”‚   â”‚       â”‚   â”œâ”€â”€ components/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ExpenseForm.jsx
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ActivityForm.jsx
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ MarkdownEditor.jsx
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ExportButton.jsx    # å¯¼å‡ºåˆ° GitHub
â”‚   â”‚       â”‚   â”œâ”€â”€ services/
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ api.js              # Axios å°è£…
â”‚   â”‚       â”‚   â””â”€â”€ App.jsx
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ public/              # Public å‰ç«¯ï¼ˆGitHub Pagesï¼‰
â”‚   â”‚       â”‚   â”œâ”€â”€ pages/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Home.jsx            # é¦–é¡µ
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ROIProgress.jsx     # å›æœ¬è¿›åº¦é¡µ
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ TrainingDiary.jsx   # è®­ç»ƒæ—¥è®°é¡µ
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ Stats.jsx           # ç»Ÿè®¡åˆ†æé¡µ
â”‚   â”‚       â”‚   â”œâ”€â”€ components/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ROICard.jsx         # å›æœ¬è¿›åº¦å¡ç‰‡
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ROIChart.jsx        # ROI æ›²çº¿å›¾
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ ActivityTimeline.jsx
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ NoteViewer.jsx
â”‚   â”‚       â”‚   â”œâ”€â”€ services/
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ dataLoader.js       # è¯»å–é™æ€ JSON
â”‚   â”‚       â”‚   â””â”€â”€ App.jsx
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ data/                # ğŸ“Š å¯¼å‡ºçš„ JSONï¼ˆæ¨é€åˆ° GitHubï¼‰
â”‚   â”‚       â”‚   â”œâ”€â”€ roi-summary.json
â”‚   â”‚       â”‚   â”œâ”€â”€ activities-timeline.json
â”‚   â”‚       â”‚   â”œâ”€â”€ stats.json
â”‚   â”‚       â”‚   â””â”€â”€ notes/
â”‚   â”‚       â”‚       â””â”€â”€ *.json       # è®­ç»ƒæ—¥è®°æ‘˜è¦
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ config.js            # å‰ç«¯é…ç½®ï¼ˆå¤ç”¨ï¼‰
â”‚   â”‚       â””â”€â”€ README.md
â”‚   â”‚
â”‚   â””â”€â”€ main.jsx
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ gym-roi-requirements.md      # éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ gym-roi-architecture.md      # æœ¬æ–‡ä»¶ï¼šæ¶æ„è®¾è®¡
â”‚   â””â”€â”€ development-guide.md         # ğŸ†• å¼€å‘æœ€ä½³å®è·µæŒ‡å—
â”‚
â”œâ”€â”€ .gitignore                       # âœ… å·²æ›´æ–°ï¼ˆPython è§„åˆ™ï¼‰
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ README.md
â””â”€â”€ changelog.md
```

---

## ğŸ”Œ API æ¥å£è®¾è®¡

### åŸºç¡€ URL
```
æœ¬åœ°å¼€å‘: http://localhost:5000/api
ç”Ÿäº§ç¯å¢ƒ: æ— ï¼ˆGitHub Pages æ— åç«¯ï¼‰
```

### 1. æ”¯å‡ºç®¡ç† API

#### 1.1 è·å–æ‰€æœ‰æ”¯å‡º
```http
GET /api/expenses
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "expenses": [
    {
      "id": "exp_001",
      "type": "membership_weekly",
      "weeklyAmount": 17,
      "currency": "NZD",
      "actualPaid": 136,
      "expectedTotal": 816
    }
  ],
  "meta": {
    "total": 1,
    "totalAmount": 136
  }
}
```

#### 1.2 æ·»åŠ æ”¯å‡º
```http
POST /api/expenses
Content-Type: application/json

{
  "type": "equipment",
  "category": "æ¸¸æ³³è£…å¤‡",
  "amount": 100,
  "currency": "NZD",
  "assetType": "essential"
}
```

#### 1.3 æ›´æ–°æ”¯å‡º
```http
PUT /api/expenses/<expense_id>
```

#### 1.4 åˆ é™¤æ”¯å‡º
```http
DELETE /api/expenses/<expense_id>
```

---

### 2. æ´»åŠ¨ç®¡ç† API

#### 2.1 è·å–æ‰€æœ‰æ´»åŠ¨
```http
GET /api/activities
```

#### 2.2 æ·»åŠ æ´»åŠ¨
```http
POST /api/activities
Content-Type: application/json

{
  "type": "swimming",
  "date": "2025-10-17",
  "data": {
    "distance": 1500
  },
  "note": "çŠ¶æ€ä¸é”™"
}
```

**åç«¯è‡ªåŠ¨è®¡ç®—**ï¼š
- `calculatedWeight`: åŸºäºé«˜æ–¯å‡½æ•°è®¡ç®—æ¸¸æ³³æƒé‡
- å­˜å…¥æ•°æ®åº“

---

### 3. ROI è®¡ç®— API

#### 3.1 è·å– ROI æ‘˜è¦
```http
GET /api/roi/summary
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "mode_a": {
    "actualPaid": 136,
    "weightedActivities": 11.72,
    "costPerActivity": 11.60,
    "message": "å·²è¶…å€¼ï¼è¿œä½äºå¸‚åœºä»· $50"
  },
  "mode_b": {
    "expectedTotal": 816,
    "targetActivities": {
      "breakeven": 16.32,
      "bronze": 20.40,
      "silver": 27.20,
      "gold": 40.80
    },
    "currentProgress": {
      "breakeven": {
        "percentage": 71.8,
        "remaining": 4.6,
        "achieved": false
      },
      "bronze": {
        "percentage": 57.5,
        "remaining": 8.68,
        "achieved": false
      }
    }
  }
}
```

#### 3.2 è·å– ROI è¶‹åŠ¿æ•°æ®
```http
GET /api/roi/trend?period=weekly
```

---

### 4. ç»Ÿè®¡åˆ†æ API

#### 4.1 è·å–ç»Ÿè®¡æ‘˜è¦
```http
GET /api/stats/summary
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "totalActivities": 6,
  "totalWeightedActivities": 11.72,
  "averageWeeklyActivities": 2.5,
  "mostFrequentType": "swimming",
  "totalExpense": 286,
  "currency": "NZD"
}
```

#### 4.2 è·å–æ´»åŠ¨é¢‘ç‡åˆ†æ
```http
GET /api/stats/activity-frequency
```

---

### 5. æ•°æ®å¯¼å‡º APIï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

#### 5.1 å¯¼å‡º JSON æ–‡ä»¶
```http
POST /api/export/json
```

**åŠŸèƒ½**ï¼š
1. ä» SQLite è¯»å–æ‰€æœ‰æ•°æ®
2. **æ•°æ®è„±æ•**ï¼šç§»é™¤æ•æ„Ÿä¸ªäººä¿¡æ¯ï¼ˆå¦‚çœŸå®å§“åã€è¯¦ç»†åœ°å€ï¼‰
3. **æ•°æ®ä¼˜åŒ–**ï¼šå‹ç¼© JSON å¤§å°ï¼Œç§»é™¤å†—ä½™å­—æ®µ
4. ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶åˆ° `src/apps/gym-roi/data/`ï¼š
   - `roi-summary.json`: ROI è®¡ç®—ç»“æœ
   - `activities-timeline.json`: æ´»åŠ¨æ—¶é—´è½´
   - `stats.json`: ç»Ÿè®¡æ•°æ®
   - `notes/*.json`: è®­ç»ƒæ—¥è®°æ‘˜è¦

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "success": true,
  "files": [
    "src/apps/gym-roi/data/roi-summary.json",
    "src/apps/gym-roi/data/activities-timeline.json",
    "src/apps/gym-roi/data/stats.json"
  ],
  "message": "æ•°æ®å¯¼å‡ºæˆåŠŸï¼è¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¨é€åˆ° GitHub:\n\ngit add src/apps/gym-roi/data\ngit commit -m \"æ›´æ–°å¥èº«æ•°æ® $(date +%Y-%m-%d)\"\ngit push"
}
```

---

## ğŸ”„ æ•°æ®æµå‘è¯¦è§£

### åœºæ™¯ 1ï¼šæœ¬åœ°å½•å…¥æ´»åŠ¨

```
ç”¨æˆ·åœ¨ Admin é¡µé¢å¡«å†™è¡¨å•
  â†“
React Admin è°ƒç”¨ POST /api/activities
  â†“
Flask API æ¥æ”¶æ•°æ®
  â†“
calculator.py è®¡ç®—æƒé‡ï¼ˆé«˜æ–¯å‡½æ•°ï¼‰
  â†“
SQLAlchemy å­˜å…¥ SQLite
  â†“
è¿”å›æˆåŠŸå“åº”ç»™å‰ç«¯
  â†“
Admin é¡µé¢åˆ·æ–°å±•ç¤ºæœ€æ–°æ•°æ®
```

### åœºæ™¯ 2ï¼šæŸ¥çœ‹å®æ—¶ç»Ÿè®¡

```
ç”¨æˆ·è®¿é—® Admin Dashboard
  â†“
React Admin è°ƒç”¨ GET /api/roi/summary
  â†“
Flask API æŸ¥è¯¢ SQLite
  â†“
calculator.py è®¡ç®—åŒé‡ ROI
  â†“
è¿”å›è®¡ç®—ç»“æœ
  â†“
Admin é¡µé¢æ¸²æŸ“å›¾è¡¨å’Œå¡ç‰‡
```

### åœºæ™¯ 3ï¼šå¯¼å‡ºæ•°æ®åˆ° GitHub

```
ç”¨æˆ·ç‚¹å‡» "å¯¼å‡ºåˆ° GitHub" æŒ‰é’®
  â†“
React Admin è°ƒç”¨ POST /api/export/json
  â†“
Flask API æ‰§è¡Œå¯¼å‡ºé€»è¾‘ï¼š
  1. ä» SQLite è¯»å–æ‰€æœ‰æ•°æ®
  2. æ•°æ®è„±æ•ï¼ˆç§»é™¤æ•æ„Ÿä¿¡æ¯ï¼‰
  3. è®¡ç®— ROIã€ç»Ÿè®¡æ•°æ®
  4. ç”Ÿæˆ JSON æ–‡ä»¶
  5. å†™å…¥ src/apps/gym-roi/data/
  â†“
è¿”å› Git å‘½ä»¤æç¤º
  â†“
Admin é¡µé¢æ˜¾ç¤º Git å‘½ä»¤
  â†“
ç”¨æˆ·å¤åˆ¶å‘½ä»¤åˆ°ç»ˆç«¯æ‰§è¡Œï¼š
  git add src/apps/gym-roi/data
  git commit -m "æ›´æ–°å¥èº«æ•°æ®"
  git push
  â†“
GitHub Actions è‡ªåŠ¨æ„å»ºéƒ¨ç½²
  â†“
Public é¡µé¢æ›´æ–°ï¼ˆæœ‹å‹å¯è§æœ€æ–°æ•°æ®ï¼‰
```

### åœºæ™¯ 4ï¼šæœ‹å‹è®¿é—® Public é¡µé¢

```
æœ‹å‹è®¿é—® https://chenmq77.github.io/duckiki/gym-roi
  â†“
React Public é¡µé¢åŠ è½½
  â†“
fetch('/gym-roi/data/roi-summary.json')
fetch('/gym-roi/data/activities-timeline.json')
  â†“
è¯»å–é™æ€ JSON æ–‡ä»¶
  â†“
æ¸²æŸ“ ROI è¿›åº¦å¡ç‰‡ã€å›¾è¡¨ã€è®­ç»ƒæ—¥è®°
  â†“
çº¯é™æ€å±•ç¤ºï¼ˆæ—  API è°ƒç”¨ï¼ŒåŠ è½½å¿«ï¼‰
```

---

## ğŸ›¡ï¸ æ•°æ®å®‰å…¨ä¸éšç§

### æœ¬åœ°æ•°æ®ï¼ˆä¸æ¨é€ï¼‰
- `gym_roi.db`: åŒ…å«å®Œæ•´çš„çœŸå®æ•°æ®
- `.env`: åŒ…å«æ•æ„Ÿé…ç½®
- `venv/`: è™šæ‹Ÿç¯å¢ƒ

### å¯¼å‡ºæ•°æ®ï¼ˆæ¨é€åˆ° GitHubï¼‰
- **è„±æ•å¤„ç†**ï¼šç§»é™¤å§“åã€æ•™ç»ƒåç§°ã€è¯¦ç»†å¤‡æ³¨ä¸­çš„éšç§ä¿¡æ¯
- **æ•°æ®èšåˆ**ï¼šåªå¯¼å‡ºç»Ÿè®¡ç»“æœï¼Œä¸å¯¼å‡ºåŸå§‹æ˜ç»†
- **å¯é…ç½®è„±æ•è§„åˆ™**ï¼šåœ¨ `backend/utils/data_sanitizer.py` ä¸­å®šä¹‰

**ç¤ºä¾‹**ï¼š
```python
# åŸå§‹æ•°æ®ï¼ˆæœ¬åœ° SQLiteï¼‰
{
  "type": "personal_training",
  "data": {
    "trainer": "å¼ æ•™ç»ƒ",
    "topic": "è…¿éƒ¨åŠ›é‡è®­ç»ƒ",
    "duration": 60
  },
  "note": "åœ¨å¥èº«æˆ¿AåŒºï¼Œæ—è¾¹æ˜¯æå…ˆç”Ÿ"
}

# å¯¼å‡ºæ•°æ®ï¼ˆGitHub Pagesï¼‰
{
  "type": "personal_training",
  "data": {
    "topic": "è…¿éƒ¨åŠ›é‡è®­ç»ƒ",
    "duration": 60
  },
  "note": "ç§æ•™è¯¾ç¨‹"
}
```

---

## ğŸš€ éƒ¨ç½²ç­–ç•¥

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

#### å¯åŠ¨åç«¯
```bash
cd backend
source venv/bin/activate
flask run
# è¿è¡Œåœ¨ http://localhost:5000
```

#### å¯åŠ¨å‰ç«¯
```bash
npm run dev
# Admin: http://localhost:5173/admin
# Public: http://localhost:5173/gym-roi (æœ¬åœ°æµ‹è¯•)
```

### ç”Ÿäº§ç¯å¢ƒï¼ˆGitHub Pagesï¼‰

#### æ„å»º
```bash
npm run build
# è¾“å‡ºåˆ° dist/
```

#### éƒ¨ç½²
```bash
git push
# GitHub Actions è‡ªåŠ¨éƒ¨ç½²åˆ° GitHub Pages
```

---

## ğŸ¯ å¼€å‘ä¼˜å…ˆçº§

### é˜¶æ®µ 1ï¼šåç«¯åŸºç¡€ (Week 1)
- âœ… æ•°æ®åº“æ¨¡å‹è®¾è®¡
- âœ… CRUD API å®ç°
- âœ… é«˜æ–¯å‡½æ•°è®¡ç®—å¼•æ“
- âœ… è™šæ‹Ÿç¯å¢ƒé…ç½®

### é˜¶æ®µ 2ï¼šAdmin å‰ç«¯ (Week 2-3)
- âœ… æ”¯å‡ºå½•å…¥è¡¨å•
- âœ… æ´»åŠ¨å½•å…¥è¡¨å•
- âœ… è®­ç»ƒæ—¥è®°ç¼–è¾‘å™¨ï¼ˆMarkdownï¼‰
- âœ… å®æ—¶ç»Ÿè®¡çœ‹æ¿
- âœ… é…ç½®ç®¡ç†ç•Œé¢

### é˜¶æ®µ 3ï¼šå¯¼å‡ºåŠŸèƒ½ (Week 3)
- âœ… JSON å¯¼å‡º API
- âœ… æ•°æ®è„±æ•é€»è¾‘
- âœ… Git å‘½ä»¤ç”Ÿæˆ

### é˜¶æ®µ 4ï¼šPublic å‰ç«¯ (Week 4)
- âœ… é™æ€æ•°æ®åŠ è½½
- âœ… ROI è¿›åº¦å¡ç‰‡
- âœ… å›¾è¡¨å¯è§†åŒ–
- âœ… è®­ç»ƒæ—¥è®°å±•ç¤º
- âœ… å“åº”å¼è®¾è®¡

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [éœ€æ±‚æ–‡æ¡£ v2.0](./gym-roi-requirements.md)
- [å¼€å‘æœ€ä½³å®è·µæŒ‡å—](./development-guide.md)
- [åç«¯å¼€å‘è¯´æ˜](../backend/README.md)
- [å‰ç«¯é…ç½®è¯´æ˜](../src/apps/gym-roi/config.js)

---

**åˆ›å»ºæ—¥æœŸ**: 2025-10-17
**æ›´æ–°æ—¥æœŸ**: 2025-10-17
**æ¶æ„ç‰ˆæœ¬**: v3.0 (æœ¬åœ° Flask + GitHub Pages)
**ä½œè€…**: chenmq77
